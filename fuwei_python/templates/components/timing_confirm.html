<style>
    .gradient-border-rounded {
    background: linear-gradient(90deg, #9767FF 0%, #217EFD 50%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: PingFang SC;
    font-weight: 600;
    font-size: 32px;
    vertical-align: middle;
    margin-top: 25px;
}


.text-area-border2 {
    padding: 12px;
    font-size: 14px;
    resize: none;
}
</style>


<div class="modal fade" id="valDoneModal" tabindex="-1" aria-hidden="true"  data-bs-backdrop="static"  data-bs-keyboard="false" >
        <div class="modal-dialog modal-dialog-centered" style="width:430px;">
            <div class="modal-content" style="border-radius:16px;width: 100%;height: 280px;background: linear-gradient(180deg, #E1DEFF 1.97%, #FFFFFF 27.61%);padding: 0 20px;">
                <div style="position: absolute;right: 45%;top:-10%"><img src="/static/images/logo-icon.svg" alt="锋矢科技" class="logo-icon"></div>
                <div class="text-center">
                    <div id="valDoneModalTitle" style="font-size:20px;font-weight:600;color:#222;margin-bottom:8px;margin-top: 30px;">新增成功，AI蓝军正在努力评估中...</div>
                    <div style="font-size:15px;color: #557496;margin-bottom:8px;margin-top: 15px" id="divAboutTime">大约 1～3 分钟完成评估，关闭弹窗不会中断评估进度</div>
                    <div class="gradient-border-rounded" id="timer">
                        00:00
                    </div>
                    <div class="d-flex justify-content-center gap-3" style="margin-top: 30px;">
                        <button class="btn-batch mr-3 defevtbtn168" id="hideValModalBtn">关闭弹窗</button>
                        <button type="button" class="btn btn-danger defevtbtn168" id="timeComfirmWinContinueAdd" style="min-width:123px;border-radius:8px;background:linear-gradient(90deg,#9767FF 0%,#217EFD 100%);border:none;">
                            继续新增
                        </button>
                    </div>
                </div>
            </div>
        </div>
</div>

<div class="modal fade" id="valDoneModal2" tabindex="-1" aria-hidden="true"  data-bs-backdrop="static"  data-bs-keyboard="false" >
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content" style="border-radius:16px;width: 100%;height: 600px;background: linear-gradient(180deg, #E1DEFF 1.97%, #FFFFFF 27.61%);padding: 0 20px;">
                <div style="position: absolute;right: 47%;top:-5%"><img src="/static/images/logo-icon.svg" alt="锋矢科技" class="logo-icon"></div>
                <div class="text-center">
                    <div id="valDoneModalTitle2" style="font-size:20px;font-weight:600;color:#222;margin-bottom:8px;margin-top: 30px;">评估完成</div>
                    <div style="font-size:15px;color: #557496;margin-bottom:8px;margin-top: 15px" id="divAboutTime2">请参考【改进建议】修改后提交。</div>
                    <div class="gradient-border-rounded ai-val-detail-tb-content"  style="margin-top: 4px;" id="timer2">
                        00:00
                    </div>
                     <!-- 将 textarea 替换为可滚动 div -->
                    <div id="valDoneModalResult"
                         class="text-area-border"
                         style="width: 100%; height: 320px; overflow-y: auto; text-align: left; white-space: normal; word-wrap: break-word; margin: 8px 0;">
                    </div>
                    <div class="d-flex justify-content-center gap-3" style="margin-top: 30px;">
                        <button class="btn-batch mr-3 defevtbtn168" id="hideValModalBtn2" data-bs-dismiss="modal">关闭弹窗</button>
                    </div>
                </div>
            </div>
        </div>
</div>


<div class="modal fade" id="valDoneModal3" tabindex="-1" aria-hidden="true"  data-bs-backdrop="static"  data-bs-keyboard="false" >
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content" style="border-radius:16px;width: 100%;height: 800px;background: linear-gradient(180deg, #E1DEFF 1.97%, #FFFFFF 27.61%);padding: 0 20px;">
                <div style="position: absolute;right: 47%;top:-5%"><img src="/static/images/logo-icon.svg" alt="锋矢科技" class="logo-icon"></div>
                <div class="text-center">
                    <div id="valDoneModalTitle3" style="font-size:20px;font-weight:600;color:#222;margin-bottom:8px;margin-top: 30px;">评估完成</div>
                    <div style="font-size:15px;color: #557496;margin-bottom:8px;margin-top: 15px" id="divAboutTime3">请参考【改进建议】修改后提交。</div>
                    <div class="gradient-border-rounded ai-val-detail-tb-content"  style="margin-top: 4px;" id="timer3">
                    </div>
                     <!-- 将 textarea 替换为可滚动 div -->
                    <div id="valDoneModalResult3"
                         class="text-area-border2"
                         style="width: 100%; height: 600px; overflow-y: auto; text-align: left; white-space: normal; word-wrap: break-word; margin: 8px 0;">
                    </div>
                    <div class="d-flex justify-content-center gap-3" style="margin-top: 30px;">
                        <button class="btn-batch mr-3 defevtbtn168" id="hideValModalBtn3" data-bs-dismiss="modal"  >关闭弹窗</button>
                    </div>
                </div>
            </div>
        </div>
</div>



    <script>

  window.addEventListener('load',function() {
      var aiEvaluationInterval;
      var startTime;
      $('#valDoneModal').on('show.bs.modal', function (e) {
          startTime = new Date().getTime();
          aiEvaluationInterval = setInterval(function () {
              var currentTime = new Date().getTime();
              var elapsedTime = Math.floor((currentTime - startTime) / 1000);
              var minutes = Math.floor(elapsedTime / 60);
              var seconds = elapsedTime % 60;
              var timeString = (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
              $('#timer').text(timeString);
          }, 1000);
      });
      $('#valDoneModal').on('hide.bs.modal', function (e) {
          if (aiEvaluationInterval) {
              clearInterval(aiEvaluationInterval);
          }
      });
      $('#hideValModalBtn').click(function () {
          // 隐藏AI评估进度弹窗
          var valDoneModal = bootstrap.Modal.getInstance(document.getElementById('valDoneModal'));
          if (valDoneModal) {
              valDoneModal.hide();
          }
      });
  })
    </script>